@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script>
    //Evento que se ejecuta al abrir la pagina
    window.onload = function () {
        document.getElementById("PanelDatos").style.visibility = 'hidden';
        document.getElementById("PanelMarcaDesmarcar").style.visibility = 'hidden';
        document.getElementById("AlertaSeleccionCuenta").style.visibility = 'hidden';
        ObtenerTiposIdentificacion();
        ObtenerTiposCuentas();
        ObtenerEstadosCuenta();
        ObtenerDepartamentos();
        ObtenerCiudades();
        ObtenerSucursales();
        BloquearCampos();
    };

    //Obtiene los tipo de identificacion
    function ObtenerTiposIdentificacion() {
        var _actionURL = "/Disponibles/ObtenerTiposIdentificacion";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _TipoIdenti = JSON.parse(_resultado);
                    var slTipoIdenti = $("#slTipoDocumento");
                    var _id = "";
                    for (var i = 0; i < _TipoIdenti.length; i++) {
                        _id = _TipoIdenti[i]["CodListProveedor"] + "~" + _TipoIdenti[i]["Valor"];
                        slTipoIdenti.append($("<option></option>").val(_id).html(_TipoIdenti[i]["Descripcion"]));
                    }
                }
            }
        });
    }

    //Bloquea los campos para que el usuario no pueda modificarlos
    function BloquearCampos() {
        document.getElementById("txtFechaIniFinExoneracion").disabled = true;
        document.getElementById("txtFechaIniFinExoneracion").disabled = true;
        document.getElementById("slNumCuenta").disabled = true;
        document.getElementById("lblNumCuenta").disabled = true;
        document.getElementById("txtNombreAsociado").disabled = true;
        document.getElementById("slSucursales").disabled = true;
        document.getElementById("txtFechaApertura").disabled = true;
        document.getElementById("txtFechaCorte").disabled = true;
        document.getElementById("slTipoCuenta").disabled = true;
        document.getElementById("slEstadosCuenta").disabled = true;
        document.getElementById("txtDireccionReside").disabled = true;
        document.getElementById("txtTelefonoReside").disabled = true;
        document.getElementById("slDepartamentoReside").disabled = true;
        document.getElementById("slCiudadReside").disabled = true;
        document.getElementById("txtEmpresa").disabled = true;
        document.getElementById("slDepartamentoLabora").disabled = true;
        document.getElementById("slCiudadLabora").disabled = true;
    }

    //Consulta la informacion del GMF
    function Consultar(PstrCuenta, PblnBloquearCampoCuenta, PLimpiarFormulario) {
        if (PLimpiarFormulario == null) {
            Limpiar();
        }

        var _slNumCuenta = $("#slNumCuenta");
        document.getElementById("slNumCuenta").value = 0;

        var _objDatos = {};
        var _identificacion = document.getElementById("txtIdentificacion").value;
        var _tipoDocumento = document.getElementById("slTipoDocumento").value;
        var actionURL = "/Disponibles/ConsultarInfoAsociado";

        var _datosTipoDocumento = _tipoDocumento.split("~");
        _objDatos.intIdTipoDocumento = _datosTipoDocumento[0];
        _objDatos.strValor = _datosTipoDocumento[1];
        _objDatos.strNumeroDocumento = _identificacion;

        if (PstrCuenta != null && PstrCuenta != '') {
            _objDatos.strNumeroCuenta = PstrCuenta;
        } else {
            EliminarCuenta();
        }

        BloquearPagina();
        $.post(actionURL, _objDatos, function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    document.getElementById("slTipoDocumento").disabled = false;
                    document.getElementById("txtIdentificacion").disabled = false;
                    document.getElementById("PanelDatos").style.visibility = 'hidden';
                    document.getElementById("PanelMarcaDesmarcar").style.visibility = 'hidden';
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    document.getElementById("PanelMarcaDesmarcar").style.visibility = 'visible';
                    ValidarDatos(_resultado, PstrCuenta, PblnBloquearCampoCuenta);
                }
            }
        });
    }

    //Obtiene los tipos de cuentas
    function ObtenerTiposCuentas() {
        var _actionURL = "/Disponibles/ObtenerTiposCuentas";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _TipoCuenta = JSON.parse(_resultado);
                    var _slTipoCuenta = $("#slTipoCuenta");
                    for (var i = 0; i < _TipoCuenta.length; i++) {
                        _slTipoCuenta.append($("<option></option>").val(_TipoCuenta[i]["CodListProveedor"]).html(_TipoCuenta[i]["Valor"]));
                    }
                }
            }
        });
    }

    //Obtiene los estados de las cuentas
    function ObtenerEstadosCuenta() {
        var _actionURL = "/Disponibles/ObtenerEstadosCuenta";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _EstadosCuenta = JSON.parse(_resultado);
                    var _slEstadosCuenta = $("#slEstadosCuenta");
                    for (var i = 0; i < _EstadosCuenta.length; i++) {
                        _slEstadosCuenta.append($("<option></option>").val(_EstadosCuenta[i]["CodListProveedor"]).html(_EstadosCuenta[i]["Valor"]));
                    }
                }
            }
        });
    }

    //Obtiene los departamentos
    function ObtenerDepartamentos() {
        var _actionURL = "/Disponibles/ObtenerDepartamentos";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _Departamentos = JSON.parse(_resultado);
                    var _slDepartamentoReside = $("#slDepartamentoReside");
                    var _slDepartamentoLabora = $("#slDepartamentoLabora");
                    for (var i = 0; i < _Departamentos.length; i++) {
                        _slDepartamentoLabora.append($("<option></option>").val(_Departamentos[i]["CodigoPostal"]).html(_Departamentos[i]["Descripcion"]));
                        _slDepartamentoReside.append($("<option></option>").val(_Departamentos[i]["CodigoPostal"]).html(_Departamentos[i]["Descripcion"]));
                    }
                }
            }
        });
    }

    //Obtiene la ciudades
    function ObtenerCiudades() {
        var _actionURL = "/Disponibles/ObtenerCiudades";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _Ciudades = JSON.parse(_resultado);
                    var _slCiudadLabora = $("#slCiudadLabora");
                    var _slCiudadReside = $("#slCiudadReside");

                    for (var i = 0; i < _Ciudades.length; i++) {
                        _slCiudadLabora.append($("<option></option>").val(_Ciudades[i]["CodigoPostal"]).html(_Ciudades[i]["Descripcion"]));
                        _slCiudadReside.append($("<option></option>").val(_Ciudades[i]["CodigoPostal"]).html(_Ciudades[i]["Descripcion"]));
                    }
                }
            }
        });
    }

    //Obtiene las sucursales
    function ObtenerSucursales() {
        var _actionURL = "/Disponibles/ObtenerSucursales";
        BloquearPagina();
        $.post(_actionURL, "", function (_resultado) {
            DesbloquearPagina();
            if (_resultado != null) {
                if (_resultado.Mensaje != null) {
                    if (_resultado.TipoAlerta == 'Error') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Informativo') {
                        MostrarPNotify("Informativo", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'Correcto') {
                        MostrarPNotify("Correcto", "", _resultado.Mensaje);
                    } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                        MostrarPNotify("Error", "", _resultado.Mensaje);
                        location.reload();
                    }
                } else {
                    var _Sucursales = JSON.parse(_resultado);
                    var _slSucursales = $("#slSucursales");
                    for (var i = 0; i < _Sucursales.length; i++) {
                        _slSucursales.append($("<option></option>").val(_Sucursales[i]["CodListProveedor"]).html(_Sucursales[i]["Descripcion"]));
                    }
                }
            }
        });
    }

    //Muestra la modal con la informacion que retorna CIFIN
    function MostrarModal(Datos) {
        $("#tablaDatosCuentas").empty();
        $("#tblCuentas").empty();
        //var _cuentas = JSON.parse(Datos);
        var _cuentas = Datos;

        var tbl = $("<table/>").attr("id", "TablaAreas");
        tbl.attr("class", "table");
        $("#tablaDatosCuentas").append(tbl);

        //Se crean los encabezados de la tabla
        var EncabezadoAbre = '<thead> <tr>';
        var EncabezadoNumeroIdentificacion = ' <th class="text-bold">' + "Número identificación" + "</th>";
        var EncabezadoNombreTitular = '<th class="text-bold">' + "Nombre titular" + "</th>";
        var EncabezadoMensajeExencion = '<th class="text-bold">' + "Mensaje exención" + "</th>";
        var EncabezadoNumeroCuenta = '<th class="text-bold">' + "Número cuenta" + "</th>";
        var EncabezadoEntidad = '<th class="text-bold">' + "Entidad" + "</th>";
        var EncabezadoCierra = '</tr></thead>';

        var ContenidoAbre = '<tbody>';
        var ContenidoCierra = ' </tbody>';

        var InicioFila = "<tr>";
        var columna1 = "<td  >" + _cuentas["strNumeroIdentificacion"] + "</td>";
        var columna2 = "<td>" + _cuentas["strNombreTitular"] + "</td>";
        var columna3 = "<td>" + _cuentas["strMensajeExencion"] + "</td>";
        var columna4 = "<td>" + _cuentas["strNumeroCuenta"] + "</td>";
        var columna5 = "<td>" + _cuentas["strCodigoEntidad"] + "</td>";
        var FinFila = "</tr>";

        if (_cuentas.strCodigoExencion != '02' && _cuentas.strCodigoEntidad.trim().toUpperCase() == "COOGRANADA") {
            $("#tblCuentas").append(EncabezadoAbre + EncabezadoNumeroIdentificacion + EncabezadoNombreTitular + EncabezadoMensajeExencion + EncabezadoNumeroCuenta + EncabezadoEntidad + EncabezadoCierra + ContenidoAbre);
            $("#tblCuentas").append(InicioFila + columna1 + columna2 + columna3 + columna4 + columna5 + FinFila + ContenidoCierra);
        } else {
            $("#tblCuentas").append(EncabezadoAbre + EncabezadoNumeroIdentificacion + EncabezadoNombreTitular + EncabezadoMensajeExencion + EncabezadoEntidad + EncabezadoCierra + ContenidoAbre);
            $("#tblCuentas").append(InicioFila + columna1 + columna2 + columna3 + columna5 + FinFila + ContenidoCierra);
        }
        $("#ModalInfoCuentas").modal();
        //  HabilitarEntorno(_cuentas);
    }

    //Habilita o inhabilita los campos
    function HabilitarEntorno(Pobjdatos) {
        if (Pobjdatos != null) {
            if (Pobjdatos.strCodigoExencion == '02' || Pobjdatos.strCodigoExencion == '05') {
                document.getElementById("slNumCuenta").disabled = false;
                document.getElementById("PanelDatos").style.visibility = 'hidden';
                document.getElementById("PanelMarcaDesmarcar").style.visibility = 'visible';
                document.getElementById("btnEnviar").style.visibility = 'hidden';
                document.getElementById("slTipoDocumento").disabled = true;
                document.getElementById("txtIdentificacion").disabled = true;
                document.getElementById("chkMarcar").disabled = false;
                document.getElementById("chkDesmarcar").disabled = false;
                document.getElementById("chkMarcar").checked = true;
                document.getElementById("chkDesmarcar").checked = false;
                Marcar();
            }
            else if (Pobjdatos.strCodigoExencion == '01' && Pobjdatos.strCodigoEntidad.trim().toUpperCase() == "COOGRANADA") {
                var _slNumCuenta = $("#slNumCuenta");
                _slNumCuenta.append($("<option></option>").val(Pobjdatos.strNumeroCuenta).html(Pobjdatos.strNumeroCuenta));
                document.getElementById("slNumCuenta").value = Pobjdatos.strNumeroCuenta;
                document.getElementById("slNumCuenta").disabled = true;
                document.getElementById("PanelDatos").style.visibility = 'hidden';
                document.getElementById("PanelMarcaDesmarcar").style.visibility = 'visible';
                document.getElementById("btnEnviar").style.visibility = 'hidden';
                document.getElementById("slTipoDocumento").disabled = true;
                document.getElementById("txtIdentificacion").disabled = true;
                document.getElementById("chkMarcar").disabled = false;
                document.getElementById("chkDesmarcar").disabled = false;
                document.getElementById("chkMarcar").checked = false;
                document.getElementById("chkDesmarcar").checked = true;
                Desmarcar();
            } else if (Pobjdatos.strCodigoExencion == '') {
                MostrarPNotify("Informativo", "", "La cuenta no pertenece a Coogranada");
            }
        }
    }

    //Evento que se ejecuta al seleccionar una cuenta
    function SeleccionarCuenta() {
        var _slNumCuenta = document.getElementById("slNumCuenta");
        var _NumeroCuenta = _slNumCuenta.options[_slNumCuenta.selectedIndex].value;
        if (_NumeroCuenta == 0) {
            Limpiar();
        } else {
            var _BloquearCampoCuenta = false;
            var _LimpiarFormulario = false;
            Consultar(_NumeroCuenta, _BloquearCampoCuenta, _LimpiarFormulario);
        }
    }

    //Llenas los dstos del formulario
    function ValidarDatos(PobjDatos, PstrCuenta, PblnBloquearCampoCuenta) {
        var _datos = JSON.parse(PobjDatos);
        var _slNumCuenta = $("#slNumCuenta");
        var _slNumCuentaOpcion = $("#slNumCuenta option");
        document.getElementById("chkMarcar").disabled = true;
        document.getElementById("chkDesmarcar").disabled = true;

        if (_datos != null || typeof (_datos) != 'undefined') {
            if (PstrCuenta == null || typeof (PstrCuenta) == 'undefined') {
                for (var i = 0; i < _datos.length; i++) {
                    _slNumCuenta.append($("<option></option>").val(_datos[i]["strNumeroCuenta"]).html(_datos[i]["strNumeroCuenta"]));
                }
            }
            if (PblnBloquearCampoCuenta != null && typeof (PblnBloquearCampoCuenta) != 'undefined') {
                if (PblnBloquearCampoCuenta) {
                    document.getElementById("slNumCuenta").disabled = true;
                } else {
                    document.getElementById("slNumCuenta").disabled = false;
                }
            }
            document.getElementById("slTipoDocumento").disabled = true;
            document.getElementById("txtIdentificacion").disabled = true;
            document.getElementById("PanelDatos").style.visibility = 'visible';
            document.getElementById("btnEnviar").style.visibility = 'visible';
            if (_datos.length == 1) {
                LlenarDatos(_datos);
            } else if (_datos.length > 1) {
                var _existeMarcada = false;
                var _posicionCuenta = 0;
                var _NumCuenta = 0;

                for (var i = 0; i < _datos.length; i++) {
                    if (_datos[i].blnExoneradaGMF == true) {
                        _existeMarcada = true;
                        _posicionCuenta = i;
                        _NumCuenta = _datos[i].strNumeroCuenta;
                        PblnBloquearCampoCuenta = false;
                    }
                }
                if (_existeMarcada) {
                    LlenarDatos(_datos[_posicionCuenta], _NumCuenta, PblnBloquearCampoCuenta);
                } else {
                    document.getElementById("chkMarcar").checked = true;
                    document.getElementById("slNumCuenta").disabled = false;
                    document.getElementById("AlertaSeleccionCuenta").style.visibility = 'visible';
                }
            }
        }
    }

    function LlenarDatos(PobjDatos, PstrCuenta) {
        if (PstrCuenta != null && typeof (PstrCuenta) != 'undefined') {
            if (PobjDatos.blnExoneradaGMF == true) {
                document.getElementById("chkDesmarcar").checked = true;
                document.getElementById("chkMarcar").checked = false;
                document.getElementById("slNumCuenta").disabled = true;
                document.getElementById("lblFechaIniFinExoneracion").innerText = "Fecha fin exoneración";
                document.getElementById("txtFechaIniFinExoneracion").value = PobjDatos.strFechFinExonera;
            } else {
                document.getElementById("chkMarcar").checked = true;
                document.getElementById("chkDesmarcar").checked = false;
                document.getElementById("lblFechaIniFinExoneracion").innerText = "Fecha inicio exoneración";
                document.getElementById("txtFechaIniFinExoneracion").value = PobjDatos.strFechIniExonera;
            }
            document.getElementById("slNumCuenta").value = PobjDatos.strNumeroCuenta;
            document.getElementById("txtNombreAsociado").value = PobjDatos.strNombreAsociado;
            document.getElementById("slSucursales").value = PobjDatos.strSucursal;
            document.getElementById("txtFechaApertura").value = PobjDatos.strFechaApertura;
            document.getElementById("txtFechaCorte").value = PobjDatos.strFechaCorte;
            document.getElementById("slTipoCuenta").value = PobjDatos.strTipoCuenta;
            document.getElementById("slEstadosCuenta").value = PobjDatos.strEstadoCuenta;
            document.getElementById("txtDireccionReside").value = PobjDatos.strDirResidencia;
            document.getElementById("txtTelefonoReside").value = PobjDatos.strTelResidencia;
            document.getElementById("slDepartamentoReside").value = PobjDatos.strDptoResidencia;
            document.getElementById("slCiudadReside").value = PobjDatos.strCiudadResidencia;
            document.getElementById("txtEmpresa").value = PobjDatos.strEmpresa;
            document.getElementById("slDepartamentoLabora").value = PobjDatos.strDptoLabora;
            document.getElementById("slCiudadLabora").value = PobjDatos.strCiudadLabora;

        } else {

            if (PobjDatos[0].blnExoneradaGMF == true) {
                document.getElementById("chkDesmarcar").checked = true;
                document.getElementById("chkMarcar").checked = false;
                //document.getElementById("slNumCuenta").disabled = true;
                document.getElementById("lblFechaIniFinExoneracion").innerText = "Fecha fin exoneración";
                document.getElementById("txtFechaIniFinExoneracion").value = PobjDatos[0].strFechFinExonera;
            } else {
                document.getElementById("chkMarcar").checked = true;
                document.getElementById("chkDesmarcar").checked = false;
                //document.getElementById("slNumCuenta").disabled = true;
                document.getElementById("lblFechaIniFinExoneracion").innerText = "Fecha inicio exoneración";
                document.getElementById("txtFechaIniFinExoneracion").value = PobjDatos[0].strFechIniExonera;
            }
            document.getElementById("slNumCuenta").value = PobjDatos[0].strNumeroCuenta;
            document.getElementById("txtNombreAsociado").value = PobjDatos[0].strNombreAsociado;
            document.getElementById("slSucursales").value = PobjDatos[0].strSucursal;
            document.getElementById("txtFechaApertura").value = PobjDatos[0].strFechaApertura;
            document.getElementById("txtFechaCorte").value = PobjDatos[0].strFechaCorte;
            document.getElementById("slTipoCuenta").value = PobjDatos[0].strTipoCuenta;
            document.getElementById("slEstadosCuenta").value = PobjDatos[0].strEstadoCuenta;
            document.getElementById("txtDireccionReside").value = PobjDatos[0].strDirResidencia;
            document.getElementById("txtTelefonoReside").value = PobjDatos[0].strTelResidencia;
            document.getElementById("slDepartamentoReside").value = PobjDatos[0].strDptoResidencia;
            document.getElementById("slCiudadReside").value = PobjDatos[0].strCiudadResidencia;
            document.getElementById("txtEmpresa").value = PobjDatos[0].strEmpresa;
            document.getElementById("slDepartamentoLabora").value = PobjDatos[0].strDptoLabora;
            document.getElementById("slCiudadLabora").value = PobjDatos[0].strCiudadLabora;
        }
    }


    //Limpia los campos del formulario
    function Limpiar(PintTipoLimpieza) {
        document.getElementById("AlertaSeleccionCuenta").style.visibility = 'hidden';
        $("#tablaDatosCuentas").empty();
        $("#tblCuentas").empty();
        document.getElementById("slNumCuenta").value = 0;
        document.getElementById("txtNombreAsociado").value = "";
        document.getElementById("slSucursales").value = 0;
        document.getElementById("txtFechaApertura").value = "";
        document.getElementById("txtFechaCorte").value = "";
        document.getElementById("slTipoCuenta").value = 0;
        document.getElementById("slEstadosCuenta").value = 0;
        document.getElementById("txtFechaIniFinExoneracion").value = "";
        document.getElementById("txtDireccionReside").value = "";
        document.getElementById("txtTelefonoReside").value = "";
        document.getElementById("slDepartamentoReside").value = 0;
        document.getElementById("slCiudadReside").value = 0;
        document.getElementById("txtEmpresa").value = "";
        document.getElementById("slDepartamentoLabora").value = 0;
        document.getElementById("slCiudadLabora").value = 0;
        document.getElementById("btnEnviar").style.visibility = 'hidden';
        document.getElementById("chkDesmarcar").checked = false;
        document.getElementById("chkMarcar").checked = false;
        document.getElementById("PanelDatos").style.visibility = 'hidden';
        document.getElementById("lblFechaIniFinExoneracion").innerText = "";
        if (PintTipoLimpieza == 1) {
            document.getElementById("slTipoDocumento").disabled = false;
            document.getElementById("txtIdentificacion").disabled = false;
            document.getElementById("PanelMarcaDesmarcar").style.visibility = 'hidden';
            document.getElementById("slTipoDocumento").value = 0;
            document.getElementById("txtIdentificacion").value = "";
        }
    }

    //Envia la informacion a CIFIN para realizar la marcacion o desmarcacion
    function Enviar() {
        if (document.getElementById("slTipoDocumento").value == null || document.getElementById("slTipoDocumento").value.trim() == "" || document.getElementById("slTipoDocumento").value == 0)
            MostrarPNotify("Error", "", "Debe seleccionar el tipo de documento.");
        else if (document.getElementById("txtIdentificacion").value.trim() == "")
            MostrarPNotify("Error", "", "Debe ingresar el documento.");
        else if (document.getElementById("slNumCuenta").value == null || document.getElementById("slNumCuenta").value.trim() == "" || document.getElementById("slNumCuenta").value == 0)
            MostrarPNotify("Error", "", "Debe seleccionar el número de cuenta.");
        else if (document.getElementById("slSucursales").value == null || document.getElementById("slSucursales").value.trim() == "" || document.getElementById("slSucursales").value == 0)
            MostrarPNotify("Error", "", "Debe seleccionar la sucursal.");
        else if (document.getElementById("slTipoCuenta").value == null || document.getElementById("slTipoCuenta").value.trim() == "" || document.getElementById("slTipoCuenta").value == 0)
            MostrarPNotify("Error", "", "Debe seleccionar el tipo de documento.");
        else if (document.getElementById("txtFechaIniFinExoneracion").value.trim() == "")
            MostrarPNotify("Error", "", "Debe ingresar la fecha de inicio / fin.");
        else if (document.getElementById("slEstadosCuenta").value == null || document.getElementById("slEstadosCuenta").value.trim() == "" || document.getElementById("slEstadosCuenta").value == 0)
            MostrarPNotify("Error", "", "Debe seleccionar el estado de la cuenta.");

        if (document.getElementById("chkMarcar").checked == true) {
            if (document.getElementById("txtNombreAsociado").value.trim() == "")
                MostrarPNotify("Error", "", "Debe ingresar el nombre.");
            else if (document.getElementById("txtFechaApertura").value.trim() == "")
                MostrarPNotify("Error", "", "Debe ingresar la fecha de apertura.");
            else if (document.getElementById("txtFechaCorte").value.trim() == "")
                MostrarPNotify("Error", "", "Debe ingresar la fecha de de corte.");
            else if (document.getElementById("txtDireccionReside").value.trim() == "")
                MostrarPNotify("Error", "", "Debe ingresar la dirección de residencia.");
            else if (document.getElementById("txtTelefonoReside").value.trim() == "")
                MostrarPNotify("Error", "", "Debe el teléfono");
            else if (document.getElementById("txtEmpresa").value.trim() == "")
                MostrarPNotify("Error", "", "Debe ingresar la empresa");
            else if (document.getElementById("slDepartamentoReside").value == null || document.getElementById("slDepartamentoReside").value.trim() == "" || document.getElementById("slDepartamentoReside").value == 0)
                MostrarPNotify("Error", "", "Debe seleccionar el departamento de residencia.");
            else if (document.getElementById("slCiudadReside").value == null || document.getElementById("slCiudadReside").value.trim() == "" || document.getElementById("slCiudadReside").value == 0)
                MostrarPNotify("Error", "", "Debe seleccionar la ciudad de residencia.");
            else if (document.getElementById("slDepartamentoLabora").value == null ||
                document.getElementById("slDepartamentoLabora").value.trim() == "" || document.getElementById("slDepartamentoLabora").value == 0)
                MostrarPNotify("Error", "", "Debe seleccionar el departamento donde labora.");
            else if (document.getElementById("slCiudadLabora").value == null || document.getElementById("slCiudadLabora").value.trim() == "" || document.getElementById("slCiudadLabora").value == 0)
                MostrarPNotify("Error", "", "Debe seleccionar la ciudad donde labora.");

            var _objDatos = {};
            var _tipoDocumento = document.getElementById("slTipoDocumento").value;
            var _datosTipoDocumento = _tipoDocumento.split("~");
            _objDatos.intIdTipoDocumento = _datosTipoDocumento[0];
            if (_objDatos.intIdTipoDocumento === '2') { // Numero de Tipo de documento de CIFIN
                _objDatos.strNit = document.getElementById("txtIdentificacion").value;
                _objDatos.strNumeroDocumento = document.getElementById("txtIdentificacion").value.slice(0, -1);
            } else {                
                _objDatos.strNumeroDocumento = document.getElementById("txtIdentificacion").value;
            }

            _objDatos.strNumeroCuenta = document.getElementById("slNumCuenta").value;
            _objDatos.strNombreAsociado = document.getElementById("txtNombreAsociado").value;
            _objDatos.strSucursal = document.getElementById("slSucursales").value;
            _objDatos.strFechaApertura = document.getElementById("txtFechaApertura").value;
            _objDatos.strFechaCorte = document.getElementById("txtFechaCorte").value;
            _objDatos.strTipoCuenta = document.getElementById("slTipoCuenta").value;
            _objDatos.strEstadoCuenta = document.getElementById("slEstadosCuenta").value;
            _objDatos.strFechIniExonera = document.getElementById("txtFechaIniFinExoneracion").value;
            _objDatos.strDirResidencia = document.getElementById("txtDireccionReside").value;
            _objDatos.strTelResidencia = document.getElementById("txtTelefonoReside").value;
            _objDatos.strDptoResidencia = document.getElementById("slDepartamentoReside").value;
            _objDatos.strCiudadResidencia = document.getElementById("slCiudadReside").value;
            _objDatos.strEmpresa = document.getElementById("txtEmpresa").value;
            _objDatos.strDptoLabora = document.getElementById("slDepartamentoLabora").value;
            _objDatos.strCiudadLabora = document.getElementById("slCiudadLabora").value;

            var _actionURL = "/Disponibles/MarcacionGMF";
            var _texto = "¿Desea marcar la cuenta?";
            BloquearPagina();
            MostrarPNotifyEnviar(_actionURL, _texto, _objDatos, "marcar");
        } else if (document.getElementById("chkDesmarcar").checked == true) {
            var _objDatos = {};
            var _tipoDocumento = document.getElementById("slTipoDocumento").value;
            var _datosTipoDocumento = _tipoDocumento.split("~");
            _objDatos.intIdTipoDocumento = _datosTipoDocumento[0];

            if (_objDatos.intIdTipoDocumento === '2') { // Numero de Tipo de documento de CIFIN
                _objDatos.strNit = document.getElementById("txtIdentificacion").value;
                _objDatos.strNumeroDocumento = document.getElementById("txtIdentificacion").value.slice(0, -1);
            } else {
                _objDatos.strNumeroDocumento = document.getElementById("txtIdentificacion").value;
            }
           
            _objDatos.strNumeroCuenta = document.getElementById("slNumCuenta").value;
            _objDatos.strSucursal = document.getElementById("slSucursales").value;
            _objDatos.strFechFinExonera = document.getElementById("txtFechaIniFinExoneracion").value;
            _objDatos.strTipoCuenta = document.getElementById("slTipoCuenta").value;
            _objDatos.strEstadoCuenta = document.getElementById("slEstadosCuenta").value;

            var _actionURL = "/Disponibles/DesmarcacionGMF";
            var _texto = "¿Desea desmarcar la cuenta?";
            BloquearPagina();
            MostrarPNotifyEnviar(_actionURL, _texto, _objDatos, "desmarcar");
        }
    }

    //Muestra la PNotify para conirmar la marcacion o desmarcacion
    function MostrarPNotifyEnviar(PactionURL, Ptexto, PobjDatos, PAcccion) {
        BloquearPagina();
        var opts = new PNotify({
            title: Ptexto,
            hide: false,
            confirm: {
                confirm: true,
                buttons: [
                    {
                        text: 'Si',
                        addClass: 'btn btn-sm Gt-btn-morado'
                    },
                    {
                        text: 'No',
                        addClass: 'btn btn-sm Gt-btn-verde '
                    }
                ]
            },
            buttons: {
                closer: false,
                sticker: false
            },
            history: {
                history: false
            }
        })

        opts.get().on('pnotify.confirm', function () {

            $.post(PactionURL, PobjDatos, function (_resultado) {
                DesbloquearPagina();
                if (_resultado != null) {
                    if (_resultado.Mensaje != null) {
                        Limpiar(1);
                        if (_resultado.TipoAlerta == 'Error') {
                            MostrarPNotify("Error", "", _resultado.Mensaje);
                        } else if (_resultado.TipoAlerta == 'Informativo') {
                            MostrarPNotify("Informativo", "", _resultado.Mensaje);
                        } else if (_resultado.TipoAlerta == 'Correcto') {
                            MostrarPNotify("Correcto", "", _resultado.Mensaje);
                        } else if (_resultado.TipoAlerta == 'NoAutenticacion' || _resultado.TipoAlerta == 'NoPermiso') {
                            MostrarPNotify("Error", "", _resultado.Mensaje);
                            location.reload();
                        }
                    } else {
                        var _datos = JSON.parse(_resultado);

                        if (_datos.strCodigoExencion == "04" || _datos.strCodigoExencion == "07") {
                            MostrarPNotify("Informativo", "", _datos.strMensajeExencion);
                            MostrarReporte(_datos);
                        } else {
                            MostrarModal(_datos);
                            MostrarPNotify("Error", "", "No se puedo " + PAcccion + " la cuenta. Por favor reportar por GLPI al área de operaciones.");
                        }
                    }
                }
            });
        })//El usuario acepto la marcación o desmarcación
        opts.get().on('pnotify.cancel', function () { //El usuario canceló la marcación o desmarcación
            DesbloquearPagina();
        });
    };

    //Muestra la modal que contiene el reporte de EXONERACIÓN Y RETIRO DE GMF
    function MostrarReporte(PDatos) {

        document.getElementById("rptNombre").innerHTML = document.getElementById("txtNombreAsociado").value;
        document.getElementById("rptNumeroIdentificacion").innerHTML = PDatos.strNumeroIdentificacion;

        document.getElementById("rptCuenta").innerHTML = PDatos.strNumeroCuenta;
        document.getElementById("rptAsesor").innerHTML = PDatos.NombreAsesor;
        document.getElementById("rptOficina").innerHTML = PDatos.NombreOficina;
        document.getElementById("rptNumTransaccion").innerHTML = PDatos.strNumeroTransaccion;
        document.getElementById("rptResultadoProceso").innerHTML = PDatos.strMensajeExencion;
        document.getElementById("rptDireccion").innerHTML = document.getElementById("txtDireccionReside").value;
        document.getElementById("rptTelefono").innerHTML = document.getElementById("txtTelefonoReside").value;


        if (PDatos.strCodigoExencion == "04") {
            document.getElementById("rptTitulo").innerHTML = 'Exoneración';
            document.getElementById("rptPrimerParrafo").innerHTML = 'Conozco y acepto que la exención prevista en el numeral primero del artículo 879 del estatuto tributario, solo se puede aplicar a una cuenta de ahorros.' +
                'Manifiesto, bajo la gravedad de juramento, que realizo la presente solicitud de exención en razón a que a la fecha no gozo del beneficio en ninguna otra cuenta de ahorros.';
            document.getElementById("rptSegundoParrafo").innerHTML = 'Me comprometo a no solicitar dicha exención ante otro establecimiento de crédito mientras exista la exención, en la cuenta  de ahorros, identificada al final del presente documento,' +
                'respecto de la cual se eleva la presente solicitud.'

            $("#ModalReporteExoneracion").modal();
            Imprimir('ReporteExoneracion');
        } else if (PDatos.strCodigoExencion == "07") {
            document.getElementById("rptTitulo").innerHTML = 'Retiro exoneración';
            document.getElementById("rptPrimerParrafo").innerHTML = 'En mi calidad de titular de la cuenta de ahorros que se cita la final de la presente, renuncio a la exención prevista en el numeral primero del artículo 879 del estatuto tributario que' +
                'fuera soliciada para esta cuenta en dias anteriores y acepto expresamente las medidas tomadas por Coogranada, tendientes a  controlar en la  presente mensualidad el valor máximo de la exención legal.';
            document.getElementById("rptSegundoParrafo").innerHTML = 'Lo anterior de conformidad con los mecanismos de verificación contemplados en el decreto 518 del 27 de marzo de 2001, para establecimientos de crédito.'

            $("#ModalReporteExoneracion").modal();
            Imprimir('ReporteExoneracion');
        }
    }

    //Elimina los números de cuentas del campo seleccionable
    function EliminarCuenta() {
        var _slNumCuentaOpcion = $("#slNumCuenta option");
        for (var i = 0; i < _slNumCuentaOpcion.length; i++) {
            if (_slNumCuentaOpcion[i].value != 0) {
                $("#slNumCuenta option[value='" + _slNumCuentaOpcion[i].value + "']").remove();
            }
        }
    }

    //Cierra la modal que contiene el reporte de EXONERACIÓN Y RETIRO DE GMF
    function CerrarModal(ventana) {
        $('#' + ventana).modal('toggle');
        Limpiar(1);
    }
</script>
<div class="panel panel-white">
    <div class="panel-heading">
        <h6 class="panel-title">Búsqueda</h6>
        <div class="heading-elements">
            <ul class="icons-list">
                <li><a data-toggle="modal" data-target="#ModalAyudaPanelBusqueda"><i class=" icon-question6 " title="Ayuda" data-popup="tooltip" data-trigger="hover" data-placement="top"></i></a></li>
                <li><a data-action="collapse"></a></li>
            </ul>
        </div>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-3">
                    <label id="lblNombreListaTipoDoc">Tipo Documento:</label><span class="text-danger">*</span>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3">
                    <select class="form-control" id="slTipoDocumento"><option selected="selected" value="0">-- Seleccione --</option></select>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-3">
                    <label>Número de identificación:</label><span class="text-danger">*</span>
                </div>
                <div class="col-xs-12 col-md-6 col-lg-3">
                    <input type="text" class="form-control" id="txtIdentificacion" />
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12 text-right">
                <input type="submit" id="btnLimpiar" class=" btn Gt-btn-morado" value="Limpiar" onclick="Limpiar(1)" />
                <input type="submit" id="btnConsultar" class="btn Gt-btn-verde" value="Consultar" onclick="Consultar()" />
            </div>
        </div>

    </div>
</div>

<div class="panel panel-white" id="PanelMarcaDesmarcar">
    <div class="panel-heading">
        <h6 class="panel-title">Marcar / Desmarcar Cuenta</h6>
        <div class="heading-elements">
            <ul class="icons-list">
                <li><a data-toggle="modal" data-target="#ModalAyudaPanelMarcDesmarc"><i class=" icon-question6 " title="Ayuda" data-popup="tooltip" data-trigger="hover" data-placement="top"></i></a></li>
                <li><a data-action="collapse"></a></li>
            </ul>
        </div>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-7 col-md-6 col-lg-1">
                    <label>Marcar:</label>
                </div>
                <div class="col-xs-3 col-md-2 col-lg-1">
                    <span class="CampoCheckbox">
                        <input type="checkbox" id="chkMarcar" />
                    </span>
                </div>

                <div class="col-xs-12 col-md-12 col-lg-3">
                </div>

                <div class="col-xs-7 col-md-6 col-lg-1">
                    <label>Desmarcar:</label>
                </div>
                <div class="col-xs-3 col-md-2 col-lg-1">
                    <span class="CampoCheckbox">
                        <input type="checkbox" id="chkDesmarcar" />
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-white" id="PanelDatos">
    <div class="panel-heading">
        <h6 class="panel-title">Datos</h6>
        <div class="heading-elements">
            <ul class="icons-list">
                <li><a data-toggle="modal" data-target="#ModalAyudaPanelDatos"><i class=" icon-question6 " title="Ayuda" data-popup="tooltip" data-trigger="hover" data-placement="top"></i></a></li>
                <li><a data-action="collapse"></a></li>
            </ul>
        </div>
    </div>
    <div class="panel-body">
        <div class="row" id="AlertaSeleccionCuenta">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-9 col-lg-9">
                    <div class="alert alertaGmf">
                        <button type="button" class="close" data-dismiss="alert"><span>&times;</span><span class="sr-only">Close</span></button>
                        <span class="text-semibold">Seleccione el número de cuenta que desea marcar.</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label id="lblNumCuenta">Número cuenta:</label><span class="text-danger">*</span>
                        <select onchange="SeleccionarCuenta()" class=" form-control" id="slNumCuenta">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1"></div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Nombre asociado:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtNombreAsociado" />
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Sucursal:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slSucursales">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Fecha apertura:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtFechaApertura" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Fecha corte:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtFechaCorte" />
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Tipo cuenta:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slTipoCuenta"><option selected="selected" value="0">-- Seleccione --</option></select>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Estado cuenta:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slEstadosCuenta"><option selected="selected" value="0">-- Seleccione --</option></select>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label id="lblFechaIniFinExoneracion"></label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtFechaIniFinExoneracion" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Dirección:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtDireccionReside" />
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Teléfono:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtTelefonoReside" />
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Departamento:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slDepartamentoReside">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Ciudad:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slCiudadReside">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Empresa:</label><span class="text-danger">*</span>
                        <input type="text" enabled="false" class="form-control" id="txtEmpresa" />
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-1">
                </div>
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Departamento empresa:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slDepartamentoLabora">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12">
                <div class="col-xs-12 col-md-6 col-lg-4">
                    <div class="form-group">
                        <label>Ciudad empresa:</label><span class="text-danger">*</span>
                        <select class="form-control" id="slCiudadLabora">
                            <option selected="selected" value="0">-- Seleccione --</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-12 text-right">
                <button type="button" id="btnEnviar" class="btn Gt-btn-verde" onclick="Enviar()">Enviar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Información Cuentas -->
<div id="ModalInfoCuentas" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title">Cuentas</h6>
            </div>
            <div class="modal-body">
                <div class="table-responsive pre-scrollable">
                    <table id="tblCuentas" class="table table-hover"></table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!-- /Modal Información Cuentas -->
<!-- Modal AyudaPanelBusqueda -->
<div id="ModalAyudaPanelBusqueda" class="modal fade">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title"><i class="icon-question6"></i>  Ayuda</h6>
            </div>
            <div class="modal-body">
                <ul>
                    <li>Todos los campos marcados con <span class="text-danger">*</span> son obligatorios.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin Modal AyudaPanelBusqueda -->
<!-- Modal AyudaPanelMarcDesmarc -->
<div id="ModalAyudaPanelMarcDesmarc" class="modal fade">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title"><i class="icon-question6"></i>  Ayuda</h6>
            </div>
            <div class="modal-body">
                <ul>
                    <li>Seleccione marcación o desmarcación</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin ModalAyudaPanelMarcDesmarc -->
<!-- Modal AyudaPanelDatos -->
<div id="ModalAyudaPanelDatos" class="modal fade">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header bg-morado">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h6 class="modal-title"><i class="icon-question6"></i>  Ayuda</h6>
            </div>
            <div class="modal-body">
                <ul>
                    <li>Todos los campos marcados con <span class="text-danger">*</span> son obligatorios.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-morado" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin ModalAyudaPanelDatos -->
<!-- Modal ReporteExoneracion -->
<div id="ModalReporteExoneracion" class="modal fade">
    <div class="modal-dialog modalGmf">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="CerrarModal('ModalReporteExoneracion')">&times;</button>
            </div>
            <div class="modal-body" id="ReporteExoneracion">
                <div class="col-sm-12 col-xs-12 col-lg-12" id="ReporteExoneracion">
                    <div class=" col-sm-12 col-xs-12 col-lg-12  text-center ">
                        <div class="col-sm-4 col-xs-4 col-lg-4">
                            <img src="~/Images/logo-coogranada.png" class="content-group mt-10 imagenGmf" alt="">
                        </div>

                        <div class="col-sm-8 col-xs-8 col-lg-8 text-right">
                            <h6 class="text-uppercase text-bold">Formato de exoneración y retiro de GMF</h6>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xs-12 col-lg-12 text-right">
                        <p class="text-bold" id="rptFecha">@DateTime.Now.ToString("dd/MM/yyyy")</p>
                        <div class=" bg-morado col-sm-12 col-xs-12 col-lg-12 content-group text-center tablaGMF">
                            <h6 id="rptTitulo" class="text-uppercase text-bold"></h6>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xs-12 col-lg-12 content-group text-justify ">
                        <p id="rptPrimerParrafo"></p>
                        <p id="rptSegundoParrafo"></p>
                    </div>

                    <!--Datos asociado-->
                    <div class="col-sm-6 col-xs-6 col-lg-6">
                        <ul class="list list-unstyled text-left">
                            <li class="text-bold">Nombre: <span id="rptNombre" class="text-semibold"></span></li>
                            <li class="text-bold">Número de identificación: <span id="rptNumeroIdentificacion" class="text-semibold"></span></li>
                            <li class="text-bold">Dirección: <span id="rptDireccion" class="text-semibold"></span></li>
                            @*<li class="text-bold">E-mail: <span id="rptEmail" class="text-semibold"></span></li>*@
                        </ul>
                    </div>
                    <div class="col-sm-6 col-xs-6 col-lg-6">
                        <ul class="list list-unstyled text-left">
                            <li class="text-bold">Cuenta de ahorros: <span id="rptCuenta" class=" text-semibold"></span></li>
                            <li class="text-bold">Teléfono: <span id="rptTelefono" class=" text-semibold"></span></li>
                        </ul>
                    </div>
                    <!--Fin Datos asociado-->
                    <!--Huella y firma-->
                    <div class=" col-sm-12 col-xs-12 col-lg-12">
                        <div class="col-sm-3 col-xs-3 col-lg-3"></div>
                        <div class="col-sm-4 col-xs-4 col-lg-4"></div>
                        <div class="col-sm-2 col-xs-2 col-lg-2">
                            <div class="panel text-center huellaDactilar">
                                <div class="panel-body">
                                    <div class=" col-sm-12 col-xs-12 col-lg-12"><br /> </div>
                                    <div class=" col-sm-12 col-xs-12 col-lg-12"><br /> </div>
                                    <div class=" col-sm-12 col-xs-12 col-lg-12"><br /> </div>
                                    <div class=" col-sm-12 col-xs-12 col-lg-12"><br /> </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-sm-12 col-xs-12 col-lg-12">
                        <div class=" col-sm-2 col-xs-2 col-lg-2"><br /> </div>
                        <div class="col-sm-4 col-xs-4 col-lg-4 text-center">
                            <div class="content-group">
                                <div class="table-responsive no-border">
                                    <table class="table cke_show_border">
                                        <tbody>
                                            <tr class="colum">
                                                <th class="text-center firma">Firma del titular</th>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 col-xs-4 col-lg-4">
                            <div class="table-responsive no-border">
                                <table class="table cke_show_border">
                                    <tbody>
                                        <tr class="colum">
                                            <th class="text-center firma">Huella dactilar</th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!--Huella y firma-->
                    <!--Datos Coogranada-->
                    <div class=" col-sm-12 col-xs-12 col-lg-12">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="bg-morado tablaGMF">
                                    <tr>
                                        <th class="col-lg-3 text-bold">Asesor</th>
                                        <th class="col-lg-2 text-bold">Oficina</th>
                                        <th class="col-lg-3 text-bold">N° de transacción</th>
                                        <th class="col-lg-3 text-bold">Resultado proceso</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td id="rptAsesor"></td>
                                        <td id="rptOficina"></td>
                                        <td id="rptNumTransaccion"></td>
                                        <td id="rptResultadoProceso"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--Datos Coogranada-->

                    <div class="col-sm-12 col-xs-12 col-lg-12 text-right">
                        <div class="col-sm-12 col-xs-12 col-lg-12"><br /></div>
                        <p>F-8 AHO V2</p>
                        <div class="col-sm-12 col-xs-12 col-lg-12"><br /></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Gt-btn-verde" onclick="Imprimir('ReporteExoneracion')">Imprimir</button>
                <button type="button" class="btn Gt-btn-morado" onclick="CerrarModal('ModalReporteExoneracion')">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<!--/ Fin ReporteExoneracion -->
